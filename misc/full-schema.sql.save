--
-- PostgreSQL database dump
--

-- Dumped from database version 14.6 (Debian 14.6-1.pgdg110+1)
-- Dumped by pg_dump version 14.7 (Ubuntu 14.7-0ubuntu0.22.04.1)

-- Started on 2023-03-08 01:12:27 PST

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

--
-- TOC entry 4 (class 2615 OID 16386)
-- Name: izzup_api; Type: SCHEMA; Schema: -; Owner: -
--

CREATE SCHEMA izzup_api;


--
-- TOC entry 5 (class 2615 OID 16388)
-- Name: ultri_auth; Type: SCHEMA; Schema: -; Owner: -
--

CREATE SCHEMA ultri_auth;


--
-- TOC entry 938 (class 1247 OID 16775)
-- Name: auth_level; Type: TYPE; Schema: izzup_api; Owner: -
--

CREATE TYPE izzup_api.auth_level AS ENUM (
    'public',
    'member',
    'account',
    'role',
    'account_role',
    'application'
);


--
-- TOC entry 947 (class 1247 OID 16818)
-- Name: role; Type: TYPE; Schema: izzup_api; Owner: -
--

CREATE TYPE izzup_api.role AS ENUM (
    'owner',
    'billing',
    'admin',
    'author',
    'editor',
    'reader',
    'advisor',
    'moderator',
    'messaging',
    'responder',
    'reaction',
    'mailer',
    'marketing',
    'support'
);


SET default_tablespace = '';

SET default_table_access_method = heap;

--
-- TOC entry 237 (class 1259 OID 16636)
-- Name: account; Type: TABLE; Schema: izzup_api; Owner: -
--

CREATE TABLE izzup_api.account (
    id bigint NOT NULL,
    uid uuid DEFAULT gen_random_uuid() NOT NULL,
    created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
    name character varying(150)
);


--
-- TOC entry 236 (class 1259 OID 16635)
-- Name: account_id_seq; Type: SEQUENCE; Schema: izzup_api; Owner: -
--

CREATE SEQUENCE izzup_api.account_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- TOC entry 3624 (class 0 OID 0)
-- Dependencies: 236
-- Name: account_id_seq; Type: SEQUENCE OWNED BY; Schema: izzup_api; Owner: -
--

ALTER SEQUENCE izzup_api.account_id_seq OWNED BY izzup_api.account.id;


--
-- TOC entry 238 (class 1259 OID 16663)
-- Name: account_member; Type: TABLE; Schema: izzup_api; Owner: -
--

CREATE TABLE izzup_api.account_member (
    account_id bigint NOT NULL,
    member_id bigint NOT NULL,
    linked_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
    roles izzup_api.role[] DEFAULT '{reader}'::izzup_api.role[] NOT NULL
);


--
-- TOC entry 232 (class 1259 OID 16584)
-- Name: block; Type: TABLE; Schema: izzup_api; Owner: -
--

CREATE TABLE izzup_api.block (
    id bigint NOT NULL,
    uid uuid DEFAULT gen_random_uuid() NOT NULL,
    created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
    updated_at timestamp without time zone,
    json_data jsonb DEFAULT '{}'::jsonb NOT NULL,
    locale character varying(35) DEFAULT 'en-US'::character varying,
    pub_at timestamp without time zone,
    un_pub_at timestamp without time zone,
    account_id bigint NOT NULL
);


--
-- TOC entry 231 (class 1259 OID 16583)
-- Name: block_id_seq; Type: SEQUENCE; Schema: izzup_api; Owner: -
--

CREATE SEQUENCE izzup_api.block_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- TOC entry 3625 (class 0 OID 0)
-- Dependencies: 231
-- Name: block_id_seq; Type: SEQUENCE OWNED BY; Schema: izzup_api; Owner: -
--

ALTER SEQUENCE izzup_api.block_id_seq OWNED BY izzup_api.block.id;


--
-- TOC entry 244 (class 1259 OID 16793)
-- Name: block_type; Type: TABLE; Schema: izzup_api; Owner: -
--

CREATE TABLE izzup_api.block_type (
    id bigint NOT NULL,
    name character varying(150),
    created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL
);


--
-- TOC entry 243 (class 1259 OID 16792)
-- Name: block_types_id_seq; Type: SEQUENCE; Schema: izzup_api; Owner: -
--

CREATE SEQUENCE izzup_api.block_types_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- TOC entry 3626 (class 0 OID 0)
-- Dependencies: 243
-- Name: block_types_id_seq; Type: SEQUENCE OWNED BY; Schema: izzup_api; Owner: -
--

ALTER SEQUENCE izzup_api.block_types_id_seq OWNED BY izzup_api.block_type.id;


--
-- TOC entry 230 (class 1259 OID 16573)
-- Name: member; Type: TABLE; Schema: izzup_api; Owner: -
--

CREATE TABLE izzup_api.member (
    id bigint NOT NULL,
    uid uuid DEFAULT gen_random_uuid() NOT NULL,
    created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
    email character varying(250),
    tel character varying(15),
    username character varying(75),
    password text
);


--
-- TOC entry 229 (class 1259 OID 16572)
-- Name: member_id_seq; Type: SEQUENCE; Schema: izzup_api; Owner: -
--

CREATE SEQUENCE izzup_api.member_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- TOC entry 3627 (class 0 OID 0)
-- Dependencies: 229
-- Name: member_id_seq; Type: SEQUENCE OWNED BY; Schema: izzup_api; Owner: -
--

ALTER SEQUENCE izzup_api.member_id_seq OWNED BY izzup_api.member.id;


--
-- TOC entry 233 (class 1259 OID 16596)
-- Name: nugget; Type: TABLE; Schema: izzup_api; Owner: -
--

CREATE TABLE izzup_api.nugget (
    id bigint NOT NULL,
    uid uuid DEFAULT gen_random_uuid() NOT NULL,
    created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
    updated_at timestamp without time zone,
    pub_at timestamp without time zone,
    un_pub_at timestamp without time zone,
    public_title character varying(150),
    internal_name character varying(75),
    account_id bigint NOT NULL,
    nugget_type_id bigint NOT NULL
);


--
-- TOC entry 235 (class 1259 OID 16622)
-- Name: nugget_block; Type: TABLE; Schema: izzup_api; Owner: -
--

CREATE TABLE izzup_api.nugget_block (
    nugget_id bigint NOT NULL,
    blocks bigint[],
    updated_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
    name character varying(75)
);


--
-- TOC entry 247 (class 1259 OID 16846)
-- Name: nugget_comment; Type: TABLE; Schema: izzup_api; Owner: -
--

CREATE TABLE izzup_api.nugget_comment (
    id bigint NOT NULL,
    uid uuid DEFAULT gen_random_uuid() NOT NULL,
    "created_at " timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
    account_id bigint NOT NULL,
    nugget_id bigint NOT NULL
);


--
-- TOC entry 246 (class 1259 OID 16845)
-- Name: nugget_comment_id_seq; Type: SEQUENCE; Schema: izzup_api; Owner: -
--

CREATE SEQUENCE izzup_api.nugget_comment_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- TOC entry 3628 (class 0 OID 0)
-- Dependencies: 246
-- Name: nugget_comment_id_seq; Type: SEQUENCE OWNED BY; Schema: izzup_api; Owner: -
--

ALTER SEQUENCE izzup_api.nugget_comment_id_seq OWNED BY izzup_api.nugget_comment.id;


--
-- TOC entry 234 (class 1259 OID 16599)
-- Name: nugget_id_seq; Type: SEQUENCE; Schema: izzup_api; Owner: -
--

CREATE SEQUENCE izzup_api.nugget_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- TOC entry 3629 (class 0 OID 0)
-- Dependencies: 234
-- Name: nugget_id_seq; Type: SEQUENCE OWNED BY; Schema: izzup_api; Owner: -
--

ALTER SEQUENCE izzup_api.nugget_id_seq OWNED BY izzup_api.nugget.id;


--
-- TOC entry 245 (class 1259 OID 16836)
-- Name: nugget_member; Type: TABLE; Schema: izzup_api; Owner: -
--

CREATE TABLE izzup_api.nugget_member (
    nugget_id bigint NOT NULL,
    member_id bigint NOT NULL,
    linked_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
    roles izzup_api.role[] DEFAULT '{reader}'::izzup_api.role[] NOT NULL
);


--
-- TOC entry 250 (class 1259 OID 16873)
-- Name: nugget_reaction; Type: TABLE; Schema: izzup_api; Owner: -
--

CREATE TABLE izzup_api.nugget_reaction (
    nugget_id bigint NOT NULL,
    account_id bigint NOT NULL,
    member_id bigint NOT NULL
);


--
-- TOC entry 242 (class 1259 OID 16731)
-- Name: nugget_type; Type: TABLE; Schema: izzup_api; Owner: -
--

CREATE TABLE izzup_api.nugget_type (
    id bigint NOT NULL,
    name character varying(75) NOT NULL,
    account_id bigint,
    created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL
);


--
-- TOC entry 241 (class 1259 OID 16730)
-- Name: nugget_type_id_seq; Type: SEQUENCE; Schema: izzup_api; Owner: -
--

CREATE SEQUENCE izzup_api.nugget_type_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- TOC entry 3630 (class 0 OID 0)
-- Dependencies: 241
-- Name: nugget_type_id_seq; Type: SEQUENCE OWNED BY; Schema: izzup_api; Owner: -
--

ALTER SEQUENCE izzup_api.nugget_type_id_seq OWNED BY izzup_api.nugget_type.id;


--
-- TOC entry 249 (class 1259 OID 16855)
-- Name: response; Type: TABLE; Schema: izzup_api; Owner: -
--

CREATE TABLE izzup_api.response (
    id bigint NOT NULL,
    uid uuid DEFAULT gen_random_uuid() NOT NULL,
    created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
    comment_id bigint,
    response_id bigint,
    account_id bigint NOT NULL,
    nugget_id bigint NOT NULL
);


--
-- TOC entry 248 (class 1259 OID 16854)
-- Name: response_id_seq; Type: SEQUENCE; Schema: izzup_api; Owner: -
--

CREATE SEQUENCE izzup_api.response_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- TOC entry 3631 (class 0 OID 0)
-- Dependencies: 248
-- Name: response_id_seq; Type: SEQUENCE OWNED BY; Schema: izzup_api; Owner: -
--

ALTER SEQUENCE izzup_api.response_id_seq OWNED BY izzup_api.response.id;


--
-- TOC entry 240 (class 1259 OID 16702)
-- Name: service; Type: TABLE; Schema: izzup_api; Owner: -
--

CREATE TABLE izzup_api.service (
    id bigint NOT NULL,
    name character varying(150) NOT NULL,
    url text,
    created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
    auth_required character varying(10) DEFAULT 'member'::character varying NOT NULL
);


--
-- TOC entry 239 (class 1259 OID 16701)
-- Name: service_id_seq; Type: SEQUENCE; Schema: izzup_api; Owner: -
--

CREATE SEQUENCE izzup_api.service_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- TOC entry 3632 (class 0 OID 0)
-- Dependencies: 239
-- Name: service_id_seq; Type: SEQUENCE OWNED BY; Schema: izzup_api; Owner: -
--

ALTER SEQUENCE izzup_api.service_id_seq OWNED BY izzup_api.service.id;


--
-- TOC entry 212 (class 1259 OID 16396)
-- Name: all_auth_recipe_users; Type: TABLE; Schema: ultri_auth; Owner: -
--

CREATE TABLE ultri_auth.all_auth_recipe_users (
    user_id character(36) NOT NULL,
    recipe_id character varying(128) NOT NULL,
    time_joined bigint NOT NULL
);


--
-- TOC entry 217 (class 1259 OID 16441)
-- Name: emailpassword_pswd_reset_tokens; Type: TABLE; Schema: ultri_auth; Owner: -
--

CREATE TABLE ultri_auth.emailpassword_pswd_reset_tokens (
    user_id character(36) NOT NULL,
    token character varying(128) NOT NULL,
    token_expiry bigint NOT NULL
);


--
-- TOC entry 216 (class 1259 OID 16432)
-- Name: emailpassword_users; Type: TABLE; Schema: ultri_auth; Owner: -
--

CREATE TABLE ultri_auth.emailpassword_users (
    user_id character(36) NOT NULL,
    email character varying(256) NOT NULL,
    password_hash character varying(256) NOT NULL,
    time_joined bigint NOT NULL
);


--
-- TOC entry 219 (class 1259 OID 16459)
-- Name: emailverification_tokens; Type: TABLE; Schema: ultri_auth; Owner: -
--

CREATE TABLE ultri_auth.emailverification_tokens (
    user_id character varying(128) NOT NULL,
    email character varying(256) NOT NULL,
    token character varying(128) NOT NULL,
    token_expiry bigint NOT NULL
);


--
-- TOC entry 218 (class 1259 OID 16454)
-- Name: emailverification_verified_emails; Type: TABLE; Schema: ultri_auth; Owner: -
--

CREATE TABLE ultri_auth.emailverification_verified_emails (
    user_id character varying(128) NOT NULL,
    email character varying(256) NOT NULL
);


--
-- TOC entry 224 (class 1259 OID 16512)
-- Name: jwt_signing_keys; Type: TABLE; Schema: ultri_auth; Owner: -
--

CREATE TABLE ultri_auth.jwt_signing_keys (
    key_id character varying(255) NOT NULL,
    key_string text NOT NULL,
    algorithm character varying(10) NOT NULL,
    created_at bigint
);


--
-- TOC entry 211 (class 1259 OID 16389)
-- Name: key_value; Type: TABLE; Schema: ultri_auth; Owner: -
--

CREATE TABLE ultri_auth.key_value (
    name character varying(128) NOT NULL,
    value text,
    created_at_time bigint
);


--
-- TOC entry 223 (class 1259 OID 16498)
-- Name: passwordless_codes; Type: TABLE; Schema: ultri_auth; Owner: -
--

CREATE TABLE ultri_auth.passwordless_codes (
    code_id character(36) NOT NULL,
    device_id_hash character(44) NOT NULL,
    link_code_hash character(44) NOT NULL,
    created_at bigint NOT NULL
);


--
-- TOC entry 222 (class 1259 OID 16489)
-- Name: passwordless_devices; Type: TABLE; Schema: ultri_auth; Owner: -
--

CREATE TABLE ultri_auth.passwordless_devices (
    device_id_hash character(44) NOT NULL,
    email character varying(256),
    phone_number character varying(256),
    link_code_salt character(44) NOT NULL,
    failed_attempts integer NOT NULL
);


--
-- TOC entry 221 (class 1259 OID 16478)
-- Name: passwordless_users; Type: TABLE; Schema: ultri_auth; Owner: -
--

CREATE TABLE ultri_auth.passwordless_users (
    user_id character(36) NOT NULL,
    email character varying(256),
    phone_number character varying(256),
    time_joined bigint NOT NULL
);


--
-- TOC entry 227 (class 1259 OID 16531)
-- Name: role_permissions; Type: TABLE; Schema: ultri_auth; Owner: -
--

CREATE TABLE ultri_auth.role_permissions (
    role character varying(255) NOT NULL,
    permission character varying(255) NOT NULL
);


--
-- TOC entry 226 (class 1259 OID 16526)
-- Name: roles; Type: TABLE; Schema: ultri_auth; Owner: -
--

CREATE TABLE ultri_auth.roles (
    role character varying(255) NOT NULL
);


--
-- TOC entry 214 (class 1259 OID 16418)
-- Name: session_access_token_signing_keys; Type: TABLE; Schema: ultri_auth; Owner: -
--

CREATE TABLE ultri_auth.session_access_token_signing_keys (
    created_at_time bigint NOT NULL,
    value text
);


--
-- TOC entry 215 (class 1259 OID 16425)
-- Name: session_info; Type: TABLE; Schema: ultri_auth; Owner: -
--

CREATE TABLE ultri_auth.session_info (
    session_handle character varying(255) NOT NULL,
    user_id character varying(128) NOT NULL,
    refresh_token_hash_2 character varying(128) NOT NULL,
    session_data text,
    expires_at bigint NOT NULL,
    created_at_time bigint NOT NULL,
    jwt_user_payload text
);


--
-- TOC entry 220 (class 1259 OID 16469)
-- Name: thirdparty_users; Type: TABLE; Schema: ultri_auth; Owner: -
--

CREATE TABLE ultri_auth.thirdparty_users (
    third_party_id character varying(28) NOT NULL,
    third_party_user_id character varying(256) NOT NULL,
    user_id character(36) NOT NULL,
    email character varying(256) NOT NULL,
    time_joined bigint NOT NULL
);


--
-- TOC entry 225 (class 1259 OID 16519)
-- Name: user_metadata; Type: TABLE; Schema: ultri_auth; Owner: -
--

CREATE TABLE ultri_auth.user_metadata (
    user_id character varying(128) NOT NULL,
    user_metadata text NOT NULL
);


--
-- TOC entry 228 (class 1259 OID 16544)
-- Name: user_roles; Type: TABLE; Schema: ultri_auth; Owner: -
--

CREATE TABLE ultri_auth.user_roles (
    user_id character varying(128) NOT NULL,
    role character varying(255) NOT NULL
);


--
-- TOC entry 213 (class 1259 OID 16402)
-- Name: userid_mapping; Type: TABLE; Schema: ultri_auth; Owner: -
--

CREATE TABLE ultri_auth.userid_mapping (
    supertokens_user_id character(36) NOT NULL,
    external_user_id character varying(128) NOT NULL,
    external_user_id_info text
);


--
-- TOC entry 3315 (class 2604 OID 16639)
-- Name: account id; Type: DEFAULT; Schema: izzup_api; Owner: -
--

ALTER TABLE ONLY izzup_api.account ALTER COLUMN id SET DEFAULT nextval('izzup_api.account_id_seq'::regclass);


--
-- TOC entry 3306 (class 2604 OID 16587)
-- Name: block id; Type: DEFAULT; Schema: izzup_api; Owner: -
--

ALTER TABLE ONLY izzup_api.block ALTER COLUMN id SET DEFAULT nextval('izzup_api.block_id_seq'::regclass);


--
-- TOC entry 3325 (class 2604 OID 16796)
-- Name: block_type id; Type: DEFAULT; Schema: izzup_api; Owner: -
--

ALTER TABLE ONLY izzup_api.block_type ALTER COLUMN id SET DEFAULT nextval('izzup_api.block_types_id_seq'::regclass);


--
-- TOC entry 3303 (class 2604 OID 16576)
-- Name: member id; Type: DEFAULT; Schema: izzup_api; Owner: -
--

ALTER TABLE ONLY izzup_api.member ALTER COLUMN id SET DEFAULT nextval('izzup_api.member_id_seq'::regclass);


--
-- TOC entry 3311 (class 2604 OID 16600)
-- Name: nugget id; Type: DEFAULT; Schema: izzup_api; Owner: -
--

ALTER TABLE ONLY izzup_api.nugget ALTER COLUMN id SET DEFAULT nextval('izzup_api.nugget_id_seq'::regclass);


--
-- TOC entry 3329 (class 2604 OID 16849)
-- Name: nugget_comment id; Type: DEFAULT; Schema: izzup_api; Owner: -
--

ALTER TABLE ONLY izzup_api.nugget_comment ALTER COLUMN id SET DEFAULT nextval('izzup_api.nugget_comment_id_seq'::regclass);


--
-- TOC entry 3323 (class 2604 OID 16734)
-- Name: nugget_type id; Type: DEFAULT; Schema: izzup_api; Owner: -
--

ALTER TABLE ONLY izzup_api.nugget_type ALTER COLUMN id SET DEFAULT nextval('izzup_api.nugget_type_id_seq'::regclass);


--
-- TOC entry 3332 (class 2604 OID 16858)
-- Name: response id; Type: DEFAULT; Schema: izzup_api; Owner: -
--

ALTER TABLE ONLY izzup_api.response ALTER COLUMN id SET DEFAULT nextval('izzup_api.response_id_seq'::regclass);


--
-- TOC entry 3320 (class 2604 OID 16705)
-- Name: service id; Type: DEFAULT; Schema: izzup_api; Owner: -
--

ALTER TABLE ONLY izzup_api.service ALTER COLUMN id SET DEFAULT nextval('izzup_api.service_id_seq'::regclass);


--
-- TOC entry 3605 (class 0 OID 16636)
-- Dependencies: 237
-- Data for Name: account; Type: TABLE DATA; Schema: izzup_api; Owner: -
--

COPY izzup_api.account (id, uid, created_at, name) FROM stdin;
1	1ab64e24-9ded-405a-a4b7-098be0b2342e	2023-03-07 07:16:01.27951	BrianGmail
2	d65b801c-af12-4ffa-94bc-cd35546abc6a	2023-03-07 16:20:56.343359	BrianUltri
\.


--
-- TOC entry 3606 (class 0 OID 16663)
-- Dependencies: 238
-- Data for Name: account_member; Type: TABLE DATA; Schema: izzup_api; Owner: -
--

COPY izzup_api.account_member (account_id, member_id, linked_at, roles) FROM stdin;
1	1	2023-03-07 16:35:00.35755	{reader}
2	2	2023-03-07 16:35:00.35755	{reader}
\.


--
-- TOC entry 3600 (class 0 OID 16584)
-- Dependencies: 232
-- Data for Name: block; Type: TABLE DATA; Schema: izzup_api; Owner: -
--

COPY izzup_api.block (id, uid, created_at, updated_at, json_data, locale, pub_at, un_pub_at, account_id) FROM stdin;
\.


--
-- TOC entry 3612 (class 0 OID 16793)
-- Dependencies: 244
-- Data for Name: block_type; Type: TABLE DATA; Schema: izzup_api; Owner: -
--

COPY izzup_api.block_type (id, name, created_at) FROM stdin;
\.


--
-- TOC entry 3598 (class 0 OID 16573)
-- Dependencies: 230
-- Data for Name: member; Type: TABLE DATA; Schema: izzup_api; Owner: -
--

COPY izzup_api.member (id, uid, created_at, email, tel, username, password) FROM stdin;
1	69023f41-fbd2-4866-9bc3-ea02cacea79d	2023-03-07 16:16:30.344321	brian@ultri.com	\N	\N	\N
2	188715cf-6960-4b2c-8916-75e1d96d7117	2023-03-07 16:16:30.344321	bwinkers@gmail.com	\N	\N	\N
\.


--
-- TOC entry 3601 (class 0 OID 16596)
-- Dependencies: 233
-- Data for Name: nugget; Type: TABLE DATA; Schema: izzup_api; Owner: -
--

COPY izzup_api.nugget (id, uid, created_at, updated_at, pub_at, un_pub_at, public_title, internal_name, account_id, nugget_type_id) FROM stdin;
\.


--
-- TOC entry 3603 (class 0 OID 16622)
-- Dependencies: 235
-- Data for Name: nugget_block; Type: TABLE DATA; Schema: izzup_api; Owner: -
--

COPY izzup_api.nugget_block (nugget_id, blocks, updated_at, name) FROM stdin;
\.


--
-- TOC entry 3615 (class 0 OID 16846)
-- Dependencies: 247
-- Data for Name: nugget_comment; Type: TABLE DATA; Schema: izzup_api; Owner: -
--

COPY izzup_api.nugget_comment (id, uid, "created_at ", account_id, nugget_id) FROM stdin;
\.


--
-- TOC entry 3613 (class 0 OID 16836)
-- Dependencies: 245
-- Data for Name: nugget_member; Type: TABLE DATA; Schema: izzup_api; Owner: -
--

COPY izzup_api.nugget_member (nugget_id, member_id, linked_at, roles) FROM stdin;
\.


--
-- TOC entry 3618 (class 0 OID 16873)
-- Dependencies: 250
-- Data for Name: nugget_reaction; Type: TABLE DATA; Schema: izzup_api; Owner: -
--

COPY izzup_api.nugget_reaction (nugget_id, account_id, member_id) FROM stdin;
\.


--
-- TOC entry 3610 (class 0 OID 16731)
-- Dependencies: 242
-- Data for Name: nugget_type; Type: TABLE DATA; Schema: izzup_api; Owner: -
--

COPY izzup_api.nugget_type (id, name, account_id, created_at) FROM stdin;
\.


--
-- TOC entry 3617 (class 0 OID 16855)
-- Dependencies: 249
-- Data for Name: response; Type: TABLE DATA; Schema: izzup_api; Owner: -
--

COPY izzup_api.response (id, uid, created_at, comment_id, response_id, account_id, nugget_id) FROM stdin;
\.


--
-- TOC entry 3608 (class 0 OID 16702)
-- Dependencies: 240
-- Data for Name: service; Type: TABLE DATA; Schema: izzup_api; Owner: -
--

COPY izzup_api.service (id, name, url, created_at, auth_required) FROM stdin;
14	update_article	\N	2023-03-07 07:35:55.598283	true
15	delete_article	\N	2023-03-07 07:35:55.598283	true
16	homepage	\N	2023-03-07 07:35:55.598283	true
18	create_post	\N	2023-03-07 16:45:09.358428	true
19	read_post	\N	2023-03-07 16:45:09.358428	true
20	update_post	\N	2023-03-07 16:45:09.358428	true
21	delete_post	\N	2023-03-07 16:45:09.358428	true
12	create_article	\N	2023-03-07 07:35:55.598283	true
11	author_article	\N	2023-03-07 07:35:55.598283	false
17	author_post	\N	2023-03-07 16:45:09.358428	true
13	read_article	\N	2023-03-07 07:35:55.598283	false
\.


--
-- TOC entry 3580 (class 0 OID 16396)
-- Dependencies: 212
-- Data for Name: all_auth_recipe_users; Type: TABLE DATA; Schema: ultri_auth; Owner: -
--

COPY ultri_auth.all_auth_recipe_users (user_id, recipe_id, time_joined) FROM stdin;
\.


--
-- TOC entry 3585 (class 0 OID 16441)
-- Dependencies: 217
-- Data for Name: emailpassword_pswd_reset_tokens; Type: TABLE DATA; Schema: ultri_auth; Owner: -
--

COPY ultri_auth.emailpassword_pswd_reset_tokens (user_id, token, token_expiry) FROM stdin;
\.


--
-- TOC entry 3584 (class 0 OID 16432)
-- Dependencies: 216
-- Data for Name: emailpassword_users; Type: TABLE DATA; Schema: ultri_auth; Owner: -
--

COPY ultri_auth.emailpassword_users (user_id, email, password_hash, time_joined) FROM stdin;
\.


--
-- TOC entry 3587 (class 0 OID 16459)
-- Dependencies: 219
-- Data for Name: emailverification_tokens; Type: TABLE DATA; Schema: ultri_auth; Owner: -
--

COPY ultri_auth.emailverification_tokens (user_id, email, token, token_expiry) FROM stdin;
\.


--
-- TOC entry 3586 (class 0 OID 16454)
-- Dependencies: 218
-- Data for Name: emailverification_verified_emails; Type: TABLE DATA; Schema: ultri_auth; Owner: -
--

COPY ultri_auth.emailverification_verified_emails (user_id, email) FROM stdin;
\.


--
-- TOC entry 3592 (class 0 OID 16512)
-- Dependencies: 224
-- Data for Name: jwt_signing_keys; Type: TABLE DATA; Schema: ultri_auth; Owner: -
--

COPY ultri_auth.jwt_signing_keys (key_id, key_string, algorithm, created_at) FROM stdin;
cd9f6f32-4533-4a16-a761-2d709c6e7d15	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	RS256	1678159428847
\.


--
-- TOC entry 3579 (class 0 OID 16389)
-- Dependencies: 211
-- Data for Name: key_value; Type: TABLE DATA; Schema: ultri_auth; Owner: -
--

COPY ultri_auth.key_value (name, value, created_at_time) FROM stdin;
FEATURE_FLAG	[]	1678159427001
refresh_token_key	1000:d83db72c3188c4a44354231f0467d81bd7a5feebdbb3420801c25c09c4cae5734388818388025cc1644c062f4f24ef6958f5d325c7a2a5377d1705428b76bcfd:f8a850f2f65f39953ae9138d277b296e8ee90f5aee6a25e155e2f05cd409f6318c96350e3620745dce618345e1cf5ce6eb4add71f99bfbcfe37cbb9123140826	1678159428827
TELEMETRY_ID	79146658-550d-4337-880f-64fc5ee7b025	1678159429872
\.


--
-- TOC entry 3591 (class 0 OID 16498)
-- Dependencies: 223
-- Data for Name: passwordless_codes; Type: TABLE DATA; Schema: ultri_auth; Owner: -
--

COPY ultri_auth.passwordless_codes (code_id, device_id_hash, link_code_hash, created_at) FROM stdin;
\.


--
-- TOC entry 3590 (class 0 OID 16489)
-- Dependencies: 222
-- Data for Name: passwordless_devices; Type: TABLE DATA; Schema: ultri_auth; Owner: -
--

COPY ultri_auth.passwordless_devices (device_id_hash, email, phone_number, link_code_salt, failed_attempts) FROM stdin;
\.


--
-- TOC entry 3589 (class 0 OID 16478)
-- Dependencies: 221
-- Data for Name: passwordless_users; Type: TABLE DATA; Schema: ultri_auth; Owner: -
--

COPY ultri_auth.passwordless_users (user_id, email, phone_number, time_joined) FROM stdin;
\.


--
-- TOC entry 3595 (class 0 OID 16531)
-- Dependencies: 227
-- Data for Name: role_permissions; Type: TABLE DATA; Schema: ultri_auth; Owner: -
--

COPY ultri_auth.role_permissions (role, permission) FROM stdin;
\.


--
-- TOC entry 3594 (class 0 OID 16526)
-- Dependencies: 226
-- Data for Name: roles; Type: TABLE DATA; Schema: ultri_auth; Owner: -
--

COPY ultri_auth.roles (role) FROM stdin;
\.


--
-- TOC entry 3582 (class 0 OID 16418)
-- Dependencies: 214
-- Data for Name: session_access_token_signing_keys; Type: TABLE DATA; Schema: ultri_auth; Owner: -
--

COPY ultri_auth.session_access_token_signing_keys (created_at_time, value) FROM stdin;
1678159428599	MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAles1hjKyFveRoH4+ZV9DPad7VDobPa/REVPGZ7bWOZsrktQ+SY4DTLl2hu/4eZ4UcIpRBYJPfz3DZMWnrzqr9WrmAUiRJ03wTaOm7VjyLQBuD5cWL7iRj0Qu76Y8emKREUDCo80MRFZVDbc4du1440P+B74yMwL2GpKeoV7ULD3rjfE9bNWOBqFCy2xp2YPZjECBv8qm31ZflYEfWmVXAhQZLCIMfuXv2UJxag5eGlIxQ8GIBH8CGxfp8IyYwkI28ChykcA8ZAAAcxUucK7vFGYFSWVoF4yv33gSbMgNHcYo4q6vOTqpa7eiZ0tASypHuc5X/w0YAgI0JbQjyL3RgwIDAQAB;MIIEvAIBADANBgkqhkiG9w0BAQEFAASCBKYwggSiAgEAAoIBAQCV6zWGMrIW95Ggfj5lX0M9p3tUOhs9r9ERU8ZnttY5myuS1D5JjgNMuXaG7/h5nhRwilEFgk9/PcNkxaevOqv1auYBSJEnTfBNo6btWPItAG4PlxYvuJGPRC7vpjx6YpERQMKjzQxEVlUNtzh27XjjQ/4HvjIzAvYakp6hXtQsPeuN8T1s1Y4GoULLbGnZg9mMQIG/yqbfVl+VgR9aZVcCFBksIgx+5e/ZQnFqDl4aUjFDwYgEfwIbF+nwjJjCQjbwKHKRwDxkAABzFS5wru8UZgVJZWgXjK/feBJsyA0dxijirq85Oqlrt6JnS0BLKke5zlf/DRgCAjQltCPIvdGDAgMBAAECggEAQBHNRhTUV0xmSBirwdb8fZTd+Bj9G1fQGX+cAyb4VpYiARYDqJuwfVGlffWAUzljstTp21jdcJuMrbxq9VA1vSR6N4IzxoBgek2+QSEKHoFYiAEh0jMmwft5s6Fvpz4IkT8D78zpuSrMHph24RyL1VRxdA2slnBljOWsNXq5Yk5HEzSRW3IxF1X3CGrkR0APCTAb3rwh4TCMC+V8OuvZLPv188I9q+JJ7bv17m/OoAMHBncmfEE+FhuitX5DD4n5eACOXlEiI51UNW0gbtKSnMTJ721yi8o/dKvLtJcyrqcNl3mLeginH9b6upGFzzbbkdN8yLVu8n1NivHUSgjyAQKBgQD9qq/krKf0B2UCQbJKAeFgcr+mTtEXTysAt3k900Xp5y1mAmoYxIezKocxTsb0mYwZwb4vqrE+iBBVVubuPPXLbl+Gj7UfXiFvPmCLTVGnTwelv7v+OauH4FNNPCY3Q/iQV/US2UZvpCblUCQujx6KnVr0HW4cDGgim5/W8rsUowKBgQCXTDmgjmw5wSnXHGRh7MzmQmLncaIHNxWtuazXzIPJAwQ227IW1/udkaXwPEcSyDLn9wZe+UkGtMvVFVxR2AbMctl2XXNO2UUV+F4nTnqW0mPLyvcfyGk04EGmZu9spd7jEQ7YFS+EXAUyzXrdFHsT+UmmdQO/2pS69fCfpdk9oQKBgFTIB6HWUwwsrIXkj0JM/pbNw2BCV4AC5cyHhe4z/tn+eh3uEKfWh8RKIoVIXxbBeyHgr0AfPL45m7vqH6TgmwYzDZpbzZ1+SI51uq7UWMYik9vCCYMeo0X2o+DcialO/nS/8RkrpW8K3jUmY/FrxDlv/kY4z+RwAR4QBYxB9GUhAoGAbLDE4XQPibob/b4W20aLuItOlChNF1PaThCKfAkfT4PMPkC8Aq8swnjEtf4HrRWHhJ8ww3/gl2HA4RZUWTORRsTnNqJR2P47JFpmAWTeqoUAToJD4GBQPD0yzIE8VVgf9A3oFRG7LiIRVfrJ3hL9jE7VOzDq/aPgnyNZtscldqECgYBqpRNA72eLDP22ShrREz+iSp/SxZhl4VuGA+0Sj6CcUqSpRZMwH1p82FvzKMW52vq7iN47Loqfjm2B2YSkV68IaJ8awlr93GGwCyo8d4P2BGqdr4fmSpbKdGJhfv6o4md+u+/iw4KzBeqdRuRowyo7TqFuHb5Z5/MS29k2mjMruA==
\.


--
-- TOC entry 3583 (class 0 OID 16425)
-- Dependencies: 215
-- Data for Name: session_info; Type: TABLE DATA; Schema: ultri_auth; Owner: -
--

COPY ultri_auth.session_info (session_handle, user_id, refresh_token_hash_2, session_data, expires_at, created_at_time, jwt_user_payload) FROM stdin;
\.


--
-- TOC entry 3588 (class 0 OID 16469)
-- Dependencies: 220
-- Data for Name: thirdparty_users; Type: TABLE DATA; Schema: ultri_auth; Owner: -
--

COPY ultri_auth.thirdparty_users (third_party_id, third_party_user_id, user_id, email, time_joined) FROM stdin;
\.


--
-- TOC entry 3593 (class 0 OID 16519)
-- Dependencies: 225
-- Data for Name: user_metadata; Type: TABLE DATA; Schema: ultri_auth; Owner: -
--

COPY ultri_auth.user_metadata (user_id, user_metadata) FROM stdin;
\.


--
-- TOC entry 3596 (class 0 OID 16544)
-- Dependencies: 228
-- Data for Name: user_roles; Type: TABLE DATA; Schema: ultri_auth; Owner: -
--

COPY ultri_auth.user_roles (user_id, role) FROM stdin;
\.


--
-- TOC entry 3581 (class 0 OID 16402)
-- Dependencies: 213
-- Data for Name: userid_mapping; Type: TABLE DATA; Schema: ultri_auth; Owner: -
--

COPY ultri_auth.userid_mapping (supertokens_user_id, external_user_id, external_user_id_info) FROM stdin;
\.


--
-- TOC entry 3633 (class 0 OID 0)
-- Dependencies: 236
-- Name: account_id_seq; Type: SEQUENCE SET; Schema: izzup_api; Owner: -
--

SELECT pg_catalog.setval('izzup_api.account_id_seq', 2, true);


--
-- TOC entry 3634 (class 0 OID 0)
-- Dependencies: 231
-- Name: block_id_seq; Type: SEQUENCE SET; Schema: izzup_api; Owner: -
--

SELECT pg_catalog.setval('izzup_api.block_id_seq', 1, false);


--
-- TOC entry 3635 (class 0 OID 0)
-- Dependencies: 243
-- Name: block_types_id_seq; Type: SEQUENCE SET; Schema: izzup_api; Owner: -
--

SELECT pg_catalog.setval('izzup_api.block_types_id_seq', 1, false);


--
-- TOC entry 3636 (class 0 OID 0)
-- Dependencies: 229
-- Name: member_id_seq; Type: SEQUENCE SET; Schema: izzup_api; Owner: -
--

SELECT pg_catalog.setval('izzup_api.member_id_seq', 2, true);


--
-- TOC entry 3637 (class 0 OID 0)
-- Dependencies: 246
-- Name: nugget_comment_id_seq; Type: SEQUENCE SET; Schema: izzup_api; Owner: -
--

SELECT pg_catalog.setval('izzup_api.nugget_comment_id_seq', 1, false);


--
-- TOC entry 3638 (class 0 OID 0)
-- Dependencies: 234
-- Name: nugget_id_seq; Type: SEQUENCE SET; Schema: izzup_api; Owner: -
--

SELECT pg_catalog.setval('izzup_api.nugget_id_seq', 1, false);


--
-- TOC entry 3639 (class 0 OID 0)
-- Dependencies: 241
-- Name: nugget_type_id_seq; Type: SEQUENCE SET; Schema: izzup_api; Owner: -
--

SELECT pg_catalog.setval('izzup_api.nugget_type_id_seq', 1, false);


--
-- TOC entry 3640 (class 0 OID 0)
-- Dependencies: 248
-- Name: response_id_seq; Type: SEQUENCE SET; Schema: izzup_api; Owner: -
--

SELECT pg_catalog.setval('izzup_api.response_id_seq', 1, false);


--
-- TOC entry 3641 (class 0 OID 0)
-- Dependencies: 239
-- Name: service_id_seq; Type: SEQUENCE SET; Schema: izzup_api; Owner: -
--

SELECT pg_catalog.setval('izzup_api.service_id_seq', 21, true);


--
-- TOC entry 3409 (class 2606 OID 16671)
-- Name: account_member account_member_pkey; Type: CONSTRAINT; Schema: izzup_api; Owner: -
--

ALTER TABLE ONLY izzup_api.account_member
    ADD CONSTRAINT account_member_pkey PRIMARY KEY (account_id, member_id);


--
-- TOC entry 3407 (class 2606 OID 16643)
-- Name: account account_pkey; Type: CONSTRAINT; Schema: izzup_api; Owner: -
--

ALTER TABLE ONLY izzup_api.account
    ADD CONSTRAINT account_pkey PRIMARY KEY (id);


--
-- TOC entry 3401 (class 2606 OID 16595)
-- Name: block block_pkey; Type: CONSTRAINT; Schema: izzup_api; Owner: -
--

ALTER TABLE ONLY izzup_api.block
    ADD CONSTRAINT block_pkey PRIMARY KEY (id, uid);


--
-- TOC entry 3417 (class 2606 OID 16798)
-- Name: block_type block_types_pkey; Type: CONSTRAINT; Schema: izzup_api; Owner: -
--

ALTER TABLE ONLY izzup_api.block_type
    ADD CONSTRAINT block_types_pkey PRIMARY KEY (id);


--
-- TOC entry 3399 (class 2606 OID 16582)
-- Name: member member_pkey; Type: CONSTRAINT; Schema: izzup_api; Owner: -
--

ALTER TABLE ONLY izzup_api.member
    ADD CONSTRAINT member_pkey PRIMARY KEY (id);


--
-- TOC entry 3405 (class 2606 OID 16629)
-- Name: nugget_block nugget_blocks_pkey; Type: CONSTRAINT; Schema: izzup_api; Owner: -
--

ALTER TABLE ONLY izzup_api.nugget_block
    ADD CONSTRAINT nugget_blocks_pkey PRIMARY KEY (nugget_id);


--
-- TOC entry 3421 (class 2606 OID 16853)
-- Name: nugget_comment nugget_comment_pkey; Type: CONSTRAINT; Schema: izzup_api; Owner: -
--

ALTER TABLE ONLY izzup_api.nugget_comment
    ADD CONSTRAINT nugget_comment_pkey PRIMARY KEY (id);


--
-- TOC entry 3419 (class 2606 OID 16844)
-- Name: nugget_member nugget_member_pkey; Type: CONSTRAINT; Schema: izzup_api; Owner: -
--

ALTER TABLE ONLY izzup_api.nugget_member
    ADD CONSTRAINT nugget_member_pkey PRIMARY KEY (nugget_id, member_id);


--
-- TOC entry 3403 (class 2606 OID 16610)
-- Name: nugget nugget_pkey; Type: CONSTRAINT; Schema: izzup_api; Owner: -
--

ALTER TABLE ONLY izzup_api.nugget
    ADD CONSTRAINT nugget_pkey PRIMARY KEY (id);


--
-- TOC entry 3425 (class 2606 OID 16877)
-- Name: nugget_reaction nugget_reaction_pkey; Type: CONSTRAINT; Schema: izzup_api; Owner: -
--

ALTER TABLE ONLY izzup_api.nugget_reaction
    ADD CONSTRAINT nugget_reaction_pkey PRIMARY KEY (nugget_id, account_id);


--
-- TOC entry 3413 (class 2606 OID 16737)
-- Name: nugget_type nugget_type_pkey; Type: CONSTRAINT; Schema: izzup_api; Owner: -
--

ALTER TABLE ONLY izzup_api.nugget_type
    ADD CONSTRAINT nugget_type_pkey PRIMARY KEY (id);


--
-- TOC entry 3423 (class 2606 OID 16862)
-- Name: response response_pkey; Type: CONSTRAINT; Schema: izzup_api; Owner: -
--

ALTER TABLE ONLY izzup_api.response
    ADD CONSTRAINT response_pkey PRIMARY KEY (id);


--
-- TOC entry 3411 (class 2606 OID 16710)
-- Name: service service_pkey; Type: CONSTRAINT; Schema: izzup_api; Owner: -
--

ALTER TABLE ONLY izzup_api.service
    ADD CONSTRAINT service_pkey PRIMARY KEY (id);


--
-- TOC entry 3415 (class 2606 OID 16744)
-- Name: nugget_type uq_nugget_type_name; Type: CONSTRAINT; Schema: izzup_api; Owner: -
--

ALTER TABLE ONLY izzup_api.nugget_type
    ADD CONSTRAINT uq_nugget_type_name UNIQUE (account_id, name);


--
-- TOC entry 3339 (class 2606 OID 16400)
-- Name: all_auth_recipe_users all_auth_recipe_users_pkey; Type: CONSTRAINT; Schema: ultri_auth; Owner: -
--

ALTER TABLE ONLY ultri_auth.all_auth_recipe_users
    ADD CONSTRAINT all_auth_recipe_users_pkey PRIMARY KEY (user_id);


--
-- TOC entry 3356 (class 2606 OID 16445)
-- Name: emailpassword_pswd_reset_tokens emailpassword_pswd_reset_tokens_pkey; Type: CONSTRAINT; Schema: ultri_auth; Owner: -
--

ALTER TABLE ONLY ultri_auth.emailpassword_pswd_reset_tokens
    ADD CONSTRAINT emailpassword_pswd_reset_tokens_pkey PRIMARY KEY (user_id, token);


--
-- TOC entry 3358 (class 2606 OID 16447)
-- Name: emailpassword_pswd_reset_tokens emailpassword_pswd_reset_tokens_token_key; Type: CONSTRAINT; Schema: ultri_auth; Owner: -
--

ALTER TABLE ONLY ultri_auth.emailpassword_pswd_reset_tokens
    ADD CONSTRAINT emailpassword_pswd_reset_tokens_token_key UNIQUE (token);


--
-- TOC entry 3351 (class 2606 OID 16440)
-- Name: emailpassword_users emailpassword_users_email_key; Type: CONSTRAINT; Schema: ultri_auth; Owner: -
--

ALTER TABLE ONLY ultri_auth.emailpassword_users
    ADD CONSTRAINT emailpassword_users_email_key UNIQUE (email);


--
-- TOC entry 3353 (class 2606 OID 16438)
-- Name: emailpassword_users emailpassword_users_pkey; Type: CONSTRAINT; Schema: ultri_auth; Owner: -
--

ALTER TABLE ONLY ultri_auth.emailpassword_users
    ADD CONSTRAINT emailpassword_users_pkey PRIMARY KEY (user_id);


--
-- TOC entry 3363 (class 2606 OID 16465)
-- Name: emailverification_tokens emailverification_tokens_pkey; Type: CONSTRAINT; Schema: ultri_auth; Owner: -
--

ALTER TABLE ONLY ultri_auth.emailverification_tokens
    ADD CONSTRAINT emailverification_tokens_pkey PRIMARY KEY (user_id, email, token);


--
-- TOC entry 3365 (class 2606 OID 16467)
-- Name: emailverification_tokens emailverification_tokens_token_key; Type: CONSTRAINT; Schema: ultri_auth; Owner: -
--

ALTER TABLE ONLY ultri_auth.emailverification_tokens
    ADD CONSTRAINT emailverification_tokens_token_key UNIQUE (token);


--
-- TOC entry 3360 (class 2606 OID 16458)
-- Name: emailverification_verified_emails emailverification_verified_emails_pkey; Type: CONSTRAINT; Schema: ultri_auth; Owner: -
--

ALTER TABLE ONLY ultri_auth.emailverification_verified_emails
    ADD CONSTRAINT emailverification_verified_emails_pkey PRIMARY KEY (user_id, email);


--
-- TOC entry 3387 (class 2606 OID 16518)
-- Name: jwt_signing_keys jwt_signing_keys_pkey; Type: CONSTRAINT; Schema: ultri_auth; Owner: -
--

ALTER TABLE ONLY ultri_auth.jwt_signing_keys
    ADD CONSTRAINT jwt_signing_keys_pkey PRIMARY KEY (key_id);


--
-- TOC entry 3336 (class 2606 OID 16395)
-- Name: key_value key_value_pkey; Type: CONSTRAINT; Schema: ultri_auth; Owner: -
--

ALTER TABLE ONLY ultri_auth.key_value
    ADD CONSTRAINT key_value_pkey PRIMARY KEY (name);


--
-- TOC entry 3383 (class 2606 OID 16502)
-- Name: passwordless_codes passwordless_codes_pkey; Type: CONSTRAINT; Schema: ultri_auth; Owner: -
--

ALTER TABLE ONLY ultri_auth.passwordless_codes
    ADD CONSTRAINT passwordless_codes_pkey PRIMARY KEY (code_id);


--
-- TOC entry 3379 (class 2606 OID 16495)
-- Name: passwordless_devices passwordless_devices_pkey; Type: CONSTRAINT; Schema: ultri_auth; Owner: -
--

ALTER TABLE ONLY ultri_auth.passwordless_devices
    ADD CONSTRAINT passwordless_devices_pkey PRIMARY KEY (device_id_hash);


--
-- TOC entry 3385 (class 2606 OID 16504)
-- Name: passwordless_codes passwordless_link_code_hash_key; Type: CONSTRAINT; Schema: ultri_auth; Owner: -
--

ALTER TABLE ONLY ultri_auth.passwordless_codes
    ADD CONSTRAINT passwordless_link_code_hash_key UNIQUE (link_code_hash);


--
-- TOC entry 3371 (class 2606 OID 16486)
-- Name: passwordless_users passwordless_users_email_key; Type: CONSTRAINT; Schema: ultri_auth; Owner: -
--

ALTER TABLE ONLY ultri_auth.passwordless_users
    ADD CONSTRAINT passwordless_users_email_key UNIQUE (email);


--
-- TOC entry 3373 (class 2606 OID 16488)
-- Name: passwordless_users passwordless_users_phone_number_key; Type: CONSTRAINT; Schema: ultri_auth; Owner: -
--

ALTER TABLE ONLY ultri_auth.passwordless_users
    ADD CONSTRAINT passwordless_users_phone_number_key UNIQUE (phone_number);


--
-- TOC entry 3375 (class 2606 OID 16484)
-- Name: passwordless_users passwordless_users_pkey; Type: CONSTRAINT; Schema: ultri_auth; Owner: -
--

ALTER TABLE ONLY ultri_auth.passwordless_users
    ADD CONSTRAINT passwordless_users_pkey PRIMARY KEY (user_id);


--
-- TOC entry 3394 (class 2606 OID 16537)
-- Name: role_permissions role_permissions_pkey; Type: CONSTRAINT; Schema: ultri_auth; Owner: -
--

ALTER TABLE ONLY ultri_auth.role_permissions
    ADD CONSTRAINT role_permissions_pkey PRIMARY KEY (role, permission);


--
-- TOC entry 3391 (class 2606 OID 16530)
-- Name: roles roles_pkey; Type: CONSTRAINT; Schema: ultri_auth; Owner: -
--

ALTER TABLE ONLY ultri_auth.roles
    ADD CONSTRAINT roles_pkey PRIMARY KEY (role);


--
-- TOC entry 3347 (class 2606 OID 16424)
-- Name: session_access_token_signing_keys session_access_token_signing_keys_pkey; Type: CONSTRAINT; Schema: ultri_auth; Owner: -
--

ALTER TABLE ONLY ultri_auth.session_access_token_signing_keys
    ADD CONSTRAINT session_access_token_signing_keys_pkey PRIMARY KEY (created_at_time);


--
-- TOC entry 3349 (class 2606 OID 16431)
-- Name: session_info session_info_pkey; Type: CONSTRAINT; Schema: ultri_auth; Owner: -
--

ALTER TABLE ONLY ultri_auth.session_info
    ADD CONSTRAINT session_info_pkey PRIMARY KEY (session_handle);


--
-- TOC entry 3367 (class 2606 OID 16475)
-- Name: thirdparty_users thirdparty_users_pkey; Type: CONSTRAINT; Schema: ultri_auth; Owner: -
--

ALTER TABLE ONLY ultri_auth.thirdparty_users
    ADD CONSTRAINT thirdparty_users_pkey PRIMARY KEY (third_party_id, third_party_user_id);


--
-- TOC entry 3369 (class 2606 OID 16477)
-- Name: thirdparty_users thirdparty_users_user_id_key; Type: CONSTRAINT; Schema: ultri_auth; Owner: -
--

ALTER TABLE ONLY ultri_auth.thirdparty_users
    ADD CONSTRAINT thirdparty_users_user_id_key UNIQUE (user_id);


--
-- TOC entry 3389 (class 2606 OID 16525)
-- Name: user_metadata user_metadata_pkey; Type: CONSTRAINT; Schema: ultri_auth; Owner: -
--

ALTER TABLE ONLY ultri_auth.user_metadata
    ADD CONSTRAINT user_metadata_pkey PRIMARY KEY (user_id);


--
-- TOC entry 3396 (class 2606 OID 16548)
-- Name: user_roles user_roles_pkey; Type: CONSTRAINT; Schema: ultri_auth; Owner: -
--

ALTER TABLE ONLY ultri_auth.user_roles
    ADD CONSTRAINT user_roles_pkey PRIMARY KEY (user_id, role);


--
-- TOC entry 3341 (class 2606 OID 16412)
-- Name: userid_mapping userid_mapping_external_user_id_key; Type: CONSTRAINT; Schema: ultri_auth; Owner: -
--

ALTER TABLE ONLY ultri_auth.userid_mapping
    ADD CONSTRAINT userid_mapping_external_user_id_key UNIQUE (external_user_id);


--
-- TOC entry 3343 (class 2606 OID 16408)
-- Name: userid_mapping userid_mapping_pkey; Type: CONSTRAINT; Schema: ultri_auth; Owner: -
--

ALTER TABLE ONLY ultri_auth.userid_mapping
    ADD CONSTRAINT userid_mapping_pkey PRIMARY KEY (supertokens_user_id, external_user_id);


--
-- TOC entry 3345 (class 2606 OID 16410)
-- Name: userid_mapping userid_mapping_supertokens_user_id_key; Type: CONSTRAINT; Schema: ultri_auth; Owner: -
--

ALTER TABLE ONLY ultri_auth.userid_mapping
    ADD CONSTRAINT userid_mapping_supertokens_user_id_key UNIQUE (supertokens_user_id);


--
-- TOC entry 3337 (class 1259 OID 16401)
-- Name: all_auth_recipe_users_pagination_index; Type: INDEX; Schema: ultri_auth; Owner: -
--

CREATE INDEX all_auth_recipe_users_pagination_index ON ultri_auth.all_auth_recipe_users USING btree (time_joined DESC, user_id DESC);


--
-- TOC entry 3354 (class 1259 OID 16453)
-- Name: emailpassword_password_reset_token_expiry_index; Type: INDEX; Schema: ultri_auth; Owner: -
--

CREATE INDEX emailpassword_password_reset_token_expiry_index ON ultri_auth.emailpassword_pswd_reset_tokens USING btree (token_expiry);


--
-- TOC entry 3361 (class 1259 OID 16468)
-- Name: emailverification_tokens_index; Type: INDEX; Schema: ultri_auth; Owner: -
--

CREATE INDEX emailverification_tokens_index ON ultri_auth.emailverification_tokens USING btree (token_expiry);


--
-- TOC entry 3380 (class 1259 OID 16510)
-- Name: passwordless_codes_created_at_index; Type: INDEX; Schema: ultri_auth; Owner: -
--

CREATE INDEX passwordless_codes_created_at_index ON ultri_auth.passwordless_codes USING btree (created_at);


--
-- TOC entry 3381 (class 1259 OID 16511)
-- Name: passwordless_codes_device_id_hash_index; Type: INDEX; Schema: ultri_auth; Owner: -
--

CREATE INDEX passwordless_codes_device_id_hash_index ON ultri_auth.passwordless_codes USING btree (device_id_hash);


--
-- TOC entry 3376 (class 1259 OID 16496)
-- Name: passwordless_devices_email_index; Type: INDEX; Schema: ultri_auth; Owner: -
--

CREATE INDEX passwordless_devices_email_index ON ultri_auth.passwordless_devices USING hash (email);


--
-- TOC entry 3377 (class 1259 OID 16497)
-- Name: passwordless_devices_phone_number_index; Type: INDEX; Schema: ultri_auth; Owner: -
--

CREATE INDEX passwordless_devices_phone_number_index ON ultri_auth.passwordless_devices USING hash (phone_number);


--
-- TOC entry 3392 (class 1259 OID 16543)
-- Name: role_permissions_permission_index; Type: INDEX; Schema: ultri_auth; Owner: -
--

CREATE INDEX role_permissions_permission_index ON ultri_auth.role_permissions USING btree (permission);


--
-- TOC entry 3397 (class 1259 OID 16554)
-- Name: user_roles_role_index; Type: INDEX; Schema: ultri_auth; Owner: -
--

CREATE INDEX user_roles_role_index ON ultri_auth.user_roles USING btree (role);


--
-- TOC entry 3431 (class 2606 OID 16673)
-- Name: block block_account_id; Type: FK CONSTRAINT; Schema: izzup_api; Owner: -
--

ALTER TABLE ONLY izzup_api.block
    ADD CONSTRAINT block_account_id FOREIGN KEY (account_id) REFERENCES izzup_api.account(id) NOT VALID;


--
-- TOC entry 3433 (class 2606 OID 16787)
-- Name: nugget fk_nugget_account_id; Type: FK CONSTRAINT; Schema: izzup_api; Owner: -
--

ALTER TABLE ONLY izzup_api.nugget
    ADD CONSTRAINT fk_nugget_account_id FOREIGN KEY (account_id) REFERENCES izzup_api.account(id) NOT VALID;


--
-- TOC entry 3435 (class 2606 OID 16863)
-- Name: nugget_comment fk_nugget_comment_account_id; Type: FK CONSTRAINT; Schema: izzup_api; Owner: -
--

ALTER TABLE ONLY izzup_api.nugget_comment
    ADD CONSTRAINT fk_nugget_comment_account_id FOREIGN KEY (account_id) REFERENCES izzup_api.account(id) NOT VALID;


--
-- TOC entry 3436 (class 2606 OID 16868)
-- Name: nugget_comment fk_nugget_comment_nugget_id; Type: FK CONSTRAINT; Schema: izzup_api; Owner: -
--

ALTER TABLE ONLY izzup_api.nugget_comment
    ADD CONSTRAINT fk_nugget_comment_nugget_id FOREIGN KEY (nugget_id) REFERENCES izzup_api.nugget(id) NOT VALID;


--
-- TOC entry 3437 (class 2606 OID 16883)
-- Name: nugget_reaction fk_nugget_reaction_account_id; Type: FK CONSTRAINT; Schema: izzup_api; Owner: -
--

ALTER TABLE ONLY izzup_api.nugget_reaction
    ADD CONSTRAINT fk_nugget_reaction_account_id FOREIGN KEY (account_id) REFERENCES izzup_api.account(id);


--
-- TOC entry 3438 (class 2606 OID 16888)
-- Name: nugget_reaction fk_nugget_reaction_member_id; Type: FK CONSTRAINT; Schema: izzup_api; Owner: -
--

ALTER TABLE ONLY izzup_api.nugget_reaction
    ADD CONSTRAINT fk_nugget_reaction_member_id FOREIGN KEY (member_id) REFERENCES izzup_api.member(id);


--
-- TOC entry 3439 (class 2606 OID 16878)
-- Name: nugget_reaction fk_nugget_reaction_nugget_id; Type: FK CONSTRAINT; Schema: izzup_api; Owner: -
--

ALTER TABLE ONLY izzup_api.nugget_reaction
    ADD CONSTRAINT fk_nugget_reaction_nugget_id FOREIGN KEY (nugget_id) REFERENCES izzup_api.nugget(id);


--
-- TOC entry 3432 (class 2606 OID 16738)
-- Name: nugget fk_nugget_type_id; Type: FK CONSTRAINT; Schema: izzup_api; Owner: -
--

ALTER TABLE ONLY izzup_api.nugget
    ADD CONSTRAINT fk_nugget_type_id FOREIGN KEY (nugget_type_id) REFERENCES izzup_api.nugget_type(id) NOT VALID;


--
-- TOC entry 3434 (class 2606 OID 16630)
-- Name: nugget_block nugget_block_nugget_id; Type: FK CONSTRAINT; Schema: izzup_api; Owner: -
--

ALTER TABLE ONLY izzup_api.nugget_block
    ADD CONSTRAINT nugget_block_nugget_id FOREIGN KEY (nugget_id) REFERENCES izzup_api.nugget(id);


--
-- TOC entry 3427 (class 2606 OID 16448)
-- Name: emailpassword_pswd_reset_tokens emailpassword_pswd_reset_tokens_user_id_fkey; Type: FK CONSTRAINT; Schema: ultri_auth; Owner: -
--

ALTER TABLE ONLY ultri_auth.emailpassword_pswd_reset_tokens
    ADD CONSTRAINT emailpassword_pswd_reset_tokens_user_id_fkey FOREIGN KEY (user_id) REFERENCES ultri_auth.emailpassword_users(user_id) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- TOC entry 3428 (class 2606 OID 16505)
-- Name: passwordless_codes passwordless_codes_device_id_hash_fkey; Type: FK CONSTRAINT; Schema: ultri_auth; Owner: -
--

ALTER TABLE ONLY ultri_auth.passwordless_codes
    ADD CONSTRAINT passwordless_codes_device_id_hash_fkey FOREIGN KEY (device_id_hash) REFERENCES ultri_auth.passwordless_devices(device_id_hash) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- TOC entry 3429 (class 2606 OID 16538)
-- Name: role_permissions role_permissions_role_fkey; Type: FK CONSTRAINT; Schema: ultri_auth; Owner: -
--

ALTER TABLE ONLY ultri_auth.role_permissions
    ADD CONSTRAINT role_permissions_role_fkey FOREIGN KEY (role) REFERENCES ultri_auth.roles(role) ON DELETE CASCADE;


--
-- TOC entry 3430 (class 2606 OID 16549)
-- Name: user_roles user_roles_role_fkey; Type: FK CONSTRAINT; Schema: ultri_auth; Owner: -
--

ALTER TABLE ONLY ultri_auth.user_roles
    ADD CONSTRAINT user_roles_role_fkey FOREIGN KEY (role) REFERENCES ultri_auth.roles(role) ON DELETE CASCADE;


--
-- TOC entry 3426 (class 2606 OID 16413)
-- Name: userid_mapping userid_mapping_supertokens_user_id_fkey; Type: FK CONSTRAINT; Schema: ultri_auth; Owner: -
--

ALTER TABLE ONLY ultri_auth.userid_mapping
    ADD CONSTRAINT userid_mapping_supertokens_user_id_fkey FOREIGN KEY (supertokens_user_id) REFERENCES ultri_auth.all_auth_recipe_users(user_id) ON DELETE CASCADE;


-- Completed on 2023-03-08 01:12:28 PST

--
-- PostgreSQL database dump complete
--

